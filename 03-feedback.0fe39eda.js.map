{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MACMC,EAAQC,SAASC,cAAc,wBAC/BC,EAAUF,SAASC,cAAc,2BACjCE,EAASH,SAASC,cAAc,yBAChCG,EAAOJ,SAASC,cAAc,kBAEpC,MAAMI,EACJC,YAAYC,EAAMC,GAChBC,KAAKF,KAAOA,EACZE,KAAKC,QAAUF,C,EAInB,MAGMG,EAAOC,IACX,MAAMC,EAAOC,aAAaC,QAAQH,GAClC,OAAa,OAATC,OACF,EAEOA,CAAI,EAyBfT,EAAKY,iBACH,SACAC,EAAApB,GAAEqB,UAAS,KACT,MAAML,EAAO,IAAIR,EAAKN,EAAMoB,MAAOjB,EAAQiB,OACrCC,EAAOC,KAAKC,UAAUT,GArCnB,IAACD,EAAKW,EAALX,EAbM,sBAaDW,EAsCGH,EArCpBN,aAAaU,QAAQZ,EAAKW,EAqCD,GACtB,MAGLE,OAAOT,iBAAiB,QAAQ,KA3Bf,CAAAJ,IAEf,QAAqBc,IADAf,EA7BH,uBA8Ba,CAC7B,MAAMQ,EAAQR,EAAKC,GACbQ,EAAOC,KAAKM,MAAMR,GACxBpB,EAAMoB,MAAQC,EAAKb,KACnBL,EAAQiB,MAAQC,EAAKV,O,GAsBvBkB,CAxDkB,sBAwDG,IAGvBzB,EAAOa,iBAAiB,SArBJa,IAClBA,EAAEC,iBACF,MAAMjB,EAAO,IAAIR,EAAKN,EAAMoB,MAAOjB,EAAQiB,OAhB/B,IAAAP,EAiBZmB,QAAQC,IAAInB,GACZT,EAAK6B,QAlBOrB,EAxBM,sBAyBlBE,aAAaoB,WAAWtB,EAkBN","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst email = document.querySelector('.feedback-form input');\nconst message = document.querySelector('.feedback-form textarea');\nconst submit = document.querySelector('.feedback-form button');\nconst form = document.querySelector('.feedback-form');\n\nclass Data {\n  constructor(user, message) {\n    this.user = user, \n    this.message = message\n  }\n}\n\nconst save = (key, input) => {\n  localStorage.setItem(key, input);\n};\nconst load = key => {\n  const data = localStorage.getItem(key);\n  if (data === null) {\n    return undefined;\n  } else {\n    return data;\n  }\n};\nconst clear = key => {\n  localStorage.removeItem(key);\n};\n\nconst setValue = key => {\n  const currentState = load(STORAGE_KEY);\n  if (currentState !== undefined){\n    const value = load(key);\n    const json = JSON.parse(value);\n    email.value = json.user;\n    message.value = json.message;\n  }\n};\n\nconst handleClick = e => {\n  e.preventDefault();\n  const data = new Data(email.value, message.value);\n  console.log(data);\n  form.reset();\n  clear(STORAGE_KEY);\n};\n\nform.addEventListener(\n  'change',\n  _.debounce(() => {\n    const data = new Data(email.value, message.value);\n    const json = JSON.stringify(data);\n    save(STORAGE_KEY, json);\n  }, 2000)\n);\n\nwindow.addEventListener('load', () => {\n  setValue(STORAGE_KEY);\n});\n\nsubmit.addEventListener('click', handleClick);\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$email","document","querySelector","$945622fd0f572e60$var$message","$945622fd0f572e60$var$submit","$945622fd0f572e60$var$form","$945622fd0f572e60$var$Data","constructor","user","message1","this","message","$945622fd0f572e60$var$load","key","data","localStorage","getItem","addEventListener","$parcel$interopDefault","debounce","value","json","JSON","stringify","input","setItem","window","undefined","parse","$945622fd0f572e60$var$setValue","e","preventDefault","console","log","reset","removeItem"],"version":3,"file":"03-feedback.0fe39eda.js.map"}