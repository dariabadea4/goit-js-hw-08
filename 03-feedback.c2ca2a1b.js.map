{"mappings":"0iBACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,mBCLtBC,EAAc,sBACdC,EAAQC,SAASC,cAAc,wBAC/BC,EAAUF,SAASC,cAAc,2BACjCE,EAASH,SAASC,cAAc,yBAChCG,EAAOJ,SAASC,cAAc,kBAEpCI,EAAA,SAAMC,EACQC,EAAMC,G,0BAChBC,KAAKF,KAAOA,EACZE,KAAKC,QAAUF,C,EAObG,EAAO,SAAAC,GACX,IAAMC,EAAOC,aAAaC,QAAQH,GAClC,OAAa,OAATC,OACF,EAEOA,C,EAyBXT,EAAKY,iBACH,SACAC,EAAAC,GAAEC,UAAS,WACT,IApCUP,EAAKQ,EAoCTP,EAAO,IAAIR,EAAKN,EAAMN,MAAOS,EAAQT,OACrC4B,EAAOC,KAAKC,UAAUV,GArClBD,EAsCLd,EAtCUsB,EAsCGC,EArCpBP,aAAaU,QAAQZ,EAAKQ,E,GAsCvB,MAGLK,OAAOT,iBAAiB,QAAQ,YA3Bf,SAAAJ,GAEf,QAAqBc,IADAf,EAAKb,GACK,CAC7B,IAAML,EAAQkB,EAAKC,GACbS,EAAOC,KAAKK,MAAMlC,GACxBM,EAAMN,MAAQ4B,EAAKd,KACnBL,EAAQT,MAAQ4B,EAAKX,O,EAsBvBkB,CAAS9B,E,IAGXK,EAAOa,iBAAiB,SArBJ,SAAAa,GAClBA,EAAEC,iBACF,IAhBYlB,EAgBNC,EAAO,IAAIR,EAAKN,EAAMN,MAAOS,EAAQT,OAC3CsC,QAAQC,IAAInB,GACZT,EAAK6B,QAlBOrB,EAmBNd,EAlBNgB,aAAaoB,WAAWtB,E","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","src/js/03-feedback.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","import _ from 'lodash';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst email = document.querySelector('.feedback-form input');\nconst message = document.querySelector('.feedback-form textarea');\nconst submit = document.querySelector('.feedback-form button');\nconst form = document.querySelector('.feedback-form');\n\nclass Data {\n  constructor(user, message) {\n    this.user = user, \n    this.message = message\n  }\n}\n\nconst save = (key, input) => {\n  localStorage.setItem(key, input);\n};\nconst load = key => {\n  const data = localStorage.getItem(key);\n  if (data === null) {\n    return undefined;\n  } else {\n    return data;\n  }\n};\nconst clear = key => {\n  localStorage.removeItem(key);\n};\n\nconst setValue = key => {\n  const currentState = load(STORAGE_KEY);\n  if (currentState !== undefined){\n    const value = load(key);\n    const json = JSON.parse(value);\n    email.value = json.user;\n    message.value = json.message;\n  }\n};\n\nconst handleClick = e => {\n  e.preventDefault();\n  const data = new Data(email.value, message.value);\n  console.log(data);\n  form.reset();\n  clear(STORAGE_KEY);\n};\n\nform.addEventListener(\n  'change',\n  _.debounce(() => {\n    const data = new Data(email.value, message.value);\n    const json = JSON.stringify(data);\n    save(STORAGE_KEY, json);\n  }, 2000)\n);\n\nwindow.addEventListener('load', () => {\n  setValue(STORAGE_KEY);\n});\n\nsubmit.addEventListener('click', handleClick);\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$email","document","querySelector","$b00c40859be242c5$var$message","$b00c40859be242c5$var$submit","$b00c40859be242c5$var$form","$b00c40859be242c5$var$Data","Data","user","message1","this","message","$b00c40859be242c5$var$load","key","data","localStorage","getItem","addEventListener","$parcel$interopDefault","$1WSnx","debounce","input","json","JSON","stringify","setItem","window","undefined","parse","$b00c40859be242c5$var$setValue","e","preventDefault","console","log","reset","removeItem"],"version":3,"file":"03-feedback.c2ca2a1b.js.map"}